(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{67796:function(){},71568:function(){},31730:function(e,t,a){Promise.resolve().then(a.bind(a,91951)),Promise.resolve().then(a.bind(a,20796)),Promise.resolve().then(a.bind(a,10941))},91951:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var n=a(5862),r=a(48223),i=a(98424);let s={admiration:"#ffc58f",adoration:"#ffc6cc",aestheticAppreciation:"#e2cbff",amusement:"#febf52",anger:"#b21816",annoyance:"#ffffff",anxiety:"#6e42cc",awe:"#7dabd3",awkwardness:"#d7d99d",boredom:"#a4a4a4",calmness:"#a9cce1",concentration:"#336cff",contemplation:"#b0aeef",confusion:"#c66a26",contempt:"#76842d",contentment:"#e5c6b4",craving:"#54591c",determination:"#ff5c00",disappointment:"#006c7c",disapproval:"#ffffff",disgust:"#1a7a41",distress:"#c5f264",doubt:"#998644",ecstasy:"#ff48a4",embarrassment:"#63c653",empathicPain:"#ca5555",enthusiasm:"#ffffff",entrancement:"#7554d6",envy:"#1d4921",excitement:"#fff974",fear:"#d1c9ef",gratitude:"#ffffff",guilt:"#879aa1",horror:"#772e7a",interest:"#a9cce1",joy:"#ffd600",love:"#f44f4c",neutral:"#879aa1",nostalgia:"#b087a1",pain:"#8c1d1d",pride:"#9a4cb6",realization:"#217aa8",relief:"#fe927a",romance:"#f0cc86",sadness:"#305575",sarcasm:"#9e44c4"},l=e=>e in s;var c=a(53632),o=a(87565),d=a(33859),f=a(12541),u=a(59850),m=a(96792);function x(e){let{values:t}=e;if(!t)return null;let a=["amusement","contempt","disappointment","awkwardness"],r=["excitement","joy","satisfaction","pride"],i=(e=>{let t=a.map(t=>e[t]||0).filter(e=>e>.15),n=r.map(t=>e[t]||0).filter(e=>e>.2),i=0;if(t.length>=2){i=t.reduce((e,t)=>e+t,0)/t.length,e.amusement>.2&&e.contempt>.1&&(i+=.2),e.awkwardness>.3&&(i+=.15);let r=a.map(t=>e[t]||0).filter(e=>e>.1);n.length>=1&&r.length>=1&&(i+=.25);let s=o.a(e);s.filter(e=>e>.15).length>=3&&(i+=.1);let l=s.sort((e,t)=>t-e);l[0]-l[1]<.1&&(i+=.1)}return Math.min(1,i)})(t),x=i>.2,h=d.a(t,f.a(),u.a(e=>{let[t,a]=e;return-a}));return(0,n.jsxs)("div",{className:"text-xs p-3 w-full border-t border-border flex flex-col md:flex-row flex-wrap gap-3",children:[x&&(0,n.jsxs)("div",{className:"w-full overflow-hidden mb-1",style:{background:"rgba(158, 68, 196, 0.1)",padding:"4px",borderRadius:"4px"},children:[(0,n.jsxs)("div",{className:"flex items-center justify-between gap-1 font-mono pb-1",children:[(0,n.jsx)("div",{className:"font-medium truncate font-bold",children:"Sarcasm Detected \uD83D\uDC40"}),(0,n.jsx)("div",{className:"tabular-nums opacity-50",children:i.toFixed(2)})]}),(0,n.jsxs)("div",{className:"relative h-1",children:[(0,n.jsx)("div",{className:"absolute top-0 left-0 size-full rounded-full opacity-10 bg-[#9e44c4]"}),(0,n.jsx)(c.E.div,{className:"absolute top-0 left-0 h-full bg-[#9e44c4] rounded-full",initial:{width:0},animate:{width:"".concat(Math.min(100,100*i),"%")}})]})]}),h.map(e=>{let[t,r]=e;return(0,n.jsxs)("div",{className:"w-full md:w-[calc(33%-0.75rem)] overflow-hidden",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between gap-1 font-mono pb-1",children:[(0,n.jsxs)("div",{className:"font-medium truncate",children:[t,a.includes(t)&&x&&" âœ“"]}),(0,n.jsx)("div",{className:"tabular-nums opacity-50",children:r.toFixed(2)})]}),(0,n.jsxs)("div",{className:"relative h-1",style:{"--bg":l(t)?s[t]:"var(--bg)"},children:[(0,n.jsx)("div",{className:"absolute top-0 left-0 size-full rounded-full opacity-10 bg-[var(--bg)]"}),(0,n.jsx)(c.E.div,{className:"absolute top-0 left-0 h-full bg-[var(--bg)] rounded-full",initial:{width:0},animate:{width:"".concat(d.a(r,m.a({min:0,max:1}),e=>"".concat(100*e,"%")))}})]})]},t)})]})}var h=a(9558),p=a(67058);let v=(0,p.forwardRef)(function(e,t){let{messages:a}=(0,r.MV)();return(0,n.jsx)(c.E.div,{layoutScroll:!0,className:"grow rounded-md overflow-auto p-4",ref:t,children:(0,n.jsx)(c.E.div,{className:"max-w-2xl mx-auto w-full flex flex-col gap-4 pb-24",children:(0,n.jsx)(h.M,{mode:"popLayout",children:a.map((e,t)=>{if("user_message"===e.type||"assistant_message"===e.type){var a;return(0,n.jsxs)(c.E.div,{className:(0,i.cn)("w-[80%]","bg-card","border border-border rounded","user_message"===e.type?"ml-auto":""),initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:0},children:[(0,n.jsx)("div",{className:(0,i.cn)("text-xs capitalize font-medium leading-none opacity-50 pt-4 px-3"),children:e.message.role}),(0,n.jsx)("div",{className:"pb-3 px-3",children:e.message.content}),(0,n.jsx)(x,{values:null===(a=e.models.prosody)||void 0===a?void 0:a.scores})]},e.type+t)}return null})})})})});var g=a(27273),b=a(85468),j=a(54141),y=a(9676),w=a(35294);let N=(0,a(95880).j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),k=p.forwardRef((e,t)=>{let{className:a,variant:r,size:s,...l}=e;return(0,n.jsx)(w.f,{ref:t,className:(0,i.cn)(N({variant:r,size:s,className:a})),...l})});k.displayName=w.f.displayName;var z=a(71584);function E(e){let{fft:t,className:a}=e;return(0,n.jsx)("div",{className:"relative size-full",children:(0,n.jsx)(z.qj,{children:e=>{let{width:r,height:s}=e;return(0,n.jsx)(c.E.svg,{viewBox:"0 0 ".concat(r," ").concat(s),width:r,height:s,className:(0,i.cn)("absolute !inset-0 !size-full",a),children:Array.from({length:24}).map((e,a)=>{var i;let l=Math.min(Math.max((null!==(i=t[a])&&void 0!==i?i:0)/4*s,2),s),o=.5*s-.5*l;return(0,n.jsx)(c.E.rect,{height:l,width:2,x:2+(a*r-4)/24,y:o,rx:4},"mic-fft-".concat(a))})})}})})}function M(){let{disconnect:e,status:t,isMuted:a,unmute:s,mute:l,micFft:o}=(0,r.MV)();return(0,n.jsx)("div",{className:(0,i.cn)("fixed bottom-0 left-0 w-full p-4 flex items-center justify-center","bg-gradient-to-t from-card via-card/90 to-card/0"),children:(0,n.jsx)(h.M,{children:"connected"===t.value?(0,n.jsxs)(c.E.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},className:"p-4 bg-card border border-border rounded-lg shadow-sm flex items-center gap-4",children:[(0,n.jsx)(k,{pressed:!a,onPressedChange:()=>{a?s():l()},children:a?(0,n.jsx)(b.Z,{className:"size-4"}):(0,n.jsx)(j.Z,{className:"size-4"})}),(0,n.jsx)("div",{className:"relative grid h-8 w-48 shrink grow-0",children:(0,n.jsx)(E,{fft:o,className:"fill-current"})}),(0,n.jsxs)(g.z,{className:"flex items-center gap-1",onClick:()=>{e()},variant:"destructive",children:[(0,n.jsx)("span",{children:(0,n.jsx)(y.Z,{className:"size-4 opacity-50",strokeWidth:2,stroke:"currentColor"})}),(0,n.jsx)("span",{children:"End Call"})]})]}):null})})}function C(){let{status:e,connect:t}=(0,r.MV)();return(0,n.jsx)(h.M,{children:"connected"!==e.value?(0,n.jsx)(c.E.div,{className:"fixed inset-0 p-4 flex items-center justify-center bg-background",initial:"initial",animate:"enter",exit:"exit",variants:{initial:{opacity:0},enter:{opacity:1},exit:{opacity:0}},children:(0,n.jsx)(h.M,{children:(0,n.jsx)(c.E.div,{variants:{initial:{scale:.5},enter:{scale:1},exit:{scale:.5}},children:(0,n.jsxs)(g.z,{className:"z-50 flex items-center gap-1.5",onClick:()=>{t().then(()=>{}).catch(()=>{}).finally(()=>{})},children:[(0,n.jsx)("span",{children:(0,n.jsx)(y.Z,{className:"size-4 opacity-50",strokeWidth:2,stroke:"currentColor"})}),(0,n.jsx)("span",{children:"Start Call"})]})})})}):null})}function _(e){let{accessToken:t}=e,a=(0,p.useRef)(null),i=(0,p.useRef)(null);return(0,n.jsx)("div",{className:"relative grow flex flex-col mx-auto w-full overflow-hidden h-[0px]",children:(0,n.jsxs)(r.E1,{auth:{type:"accessToken",value:t},onMessage:()=>{a.current&&window.clearTimeout(a.current),a.current=window.setTimeout(()=>{if(i.current){let e=i.current.scrollHeight;i.current.scrollTo({top:e,behavior:"smooth"})}},200)},children:[(0,n.jsx)(v,{ref:i}),(0,n.jsx)(M,{}),(0,n.jsx)(C,{})]})})}},27273:function(e,t,a){"use strict";a.d(t,{z:function(){return o}});var n=a(5862),r=a(67058),i=a(74752),s=a(95880),l=a(98424);let c=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,t)=>{let{className:a,variant:r,size:s,asChild:o=!1,...d}=e,f=o?i.g7:"button";return(0,n.jsx)(f,{className:(0,l.cn)(c({variant:r,size:s,className:a})),ref:t,...d})});o.displayName="Button"},98424:function(e,t,a){"use strict";a.d(t,{cn:function(){return i}});var n=a(73635),r=a(58615);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,n.W)(t))}}},function(e){e.O(0,[559,657,158,660,744],function(){return e(e.s=31730)}),_N_E=e.O()}]);